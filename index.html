<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>InternFund - Fundraising Platform</title>
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <header class="header">
      <div class="container">
        <div class="header-content">
          <div class="logo">InternFund</div>
          <div class="nav-buttons">
            <button
              onclick="showPage('dashboard')"
              id="dashboardBtn"
              style="display: none"
            >
              Dashboard
            </button>
            <button
              onclick="showPage('leaderboard')"
              id="leaderboardBtn"
              style="display: none"
            >
              Leaderboard
            </button>
            <button onclick="logout()" id="logoutBtn" style="display: none">
              Logout
            </button>
          </div>
        </div>
      </div>
    </header>

    <div id="loginPage" class="page active">
      <div class="container">
        <div class="auth-container">
          <div class="auth-card">
            <h2>Login to InternFund</h2>
            <form id="loginForm">
              <div class="form-group">
                <label for="loginEmail">Email</label>
                <input type="email" id="loginEmail" required />
              </div>
              <div class="form-group">
                <label for="loginPassword">Password</label>
                <input type="password" id="loginPassword" required />
              </div>
              <button type="submit" class="btn">Login</button>
            </form>
            <div class="auth-switch">
              Don't have an account?
              <a onclick="showPage('signup')">Sign up here</a>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div id="signupPage" class="page">
      <div class="container">
        <div class="auth-container">
          <div class="auth-card">
            <h2>Join InternFund</h2>
            <form id="signupForm">
              <div class="form-group">
                <label for="signupName">Full Name</label>
                <input type="text" id="signupName" required />
              </div>
              <div class="form-group">
                <label for="signupEmail">Email</label>
                <input type="email" id="signupEmail" required />
              </div>
              <div class="form-group">
                <label for="signupPassword">Password</label>
                <input type="password" id="signupPassword" required />
              </div>
              <button type="submit" class="btn">Sign Up</button>
            </form>
            <div class="auth-switch">
              Already have an account?
              <a onclick="showPage('login')">Login here</a>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div id="dashboardPage" class="page">
      <div class="container">
        <h1 id="welcomeText">Welcome back!</h1>

        <div class="dashboard-grid">
          <div class="card">
            <h3>Your Profile</h3>
            <p><strong>Name:</strong> <span id="userName">Loading...</span></p>
            <p>
              <strong>Email:</strong> <span id="userEmail">Loading...</span>
            </p>
          </div>

          <div class="card">
            <h3>Your Referral Code</h3>
            <div class="referral-code" id="referralCode">Loading...</div>
            <p
              style="
                margin-top: 8px;
                color: var(--text-secondary);
                text-align: center;
              "
            >
              Share this code to earn rewards!
            </p>
          </div>

          <div class="card stat-card">
            <div class="stat-number" id="totalRaised">â‚¹0</div>
            <div class="stat-label">Total Donations Raised</div>
          </div>

          <div class="card">
            <h3>Rewards & Unlockables</h3>
            <div id="rewardsList">
              <div class="reward-item reward-unlocked">
                <span>Welcome Badge</span>
                <span style="color: var(--secondary-color)">âœ“ Unlocked</span>
              </div>
              <div class="reward-item reward-locked">
                <span>â‚¹500 Milestone Badge</span>
                <span>ðŸ”’ Locked</span>
              </div>
              <div class="reward-item reward-locked">
                <span>Top 10 Fundraiser</span>
                <span>ðŸ”’ Locked</span>
              </div>
              <div class="reward-item reward-locked">
                <span>â‚¹1000 Champion</span>
                <span>ðŸ”’ Locked</span>
              </div>
            </div>
          </div>
        </div>

        <div class="donation-table-section">
          <h2>Donation Management</h2>
          <div class="donation-form">
            <div class="form-row">
              <div>
                <label>Amount (â‚¹)</label>
                <input
                  type="number"
                  id="donationAmount"
                  placeholder="Enter amount"
                  min="0"
                  step="0.01"
                />
              </div>
              <div>
                <label>Details</label>
                <textarea
                  id="donationDetails"
                  placeholder="How did you raise these funds?"
                ></textarea>
              </div>
              <div>
                <label>Date</label>
                <input type="date" id="donationDate" />
              </div>
              <div>
                <label>Proof Image</label>
                <input type="file" id="donationImage" accept="image/*" />
              </div>
              <div>
                <label>&nbsp;</label>
                <button
                  type="button"
                  class="btn btn-small"
                  onclick="addDonation()"
                >
                  Add Entry
                </button>
              </div>
            </div>
          </div>

          <table class="donation-table" id="donationTable">
            <thead>
              <tr>
                <th>Date</th>
                <th>Amount</th>
                <th>Details</th>
                <th>Proof</th>
                <th>Actions</th>
              </tr>
            </thead>
            <tbody id="donationTableBody"></tbody>
            <tfoot>
              <tr class="total-row">
                <td><strong>TOTAL</strong></td>
                <td><strong id="donationTotal">â‚¹0.00</strong></td>
                <td colspan="3"></td>
              </tr>
            </tfoot>
          </table>
        </div>
      </div>
    </div>

    <div id="leaderboardPage" class="page">
      <div class="container">
        <h1>Fundraising Leaderboard</h1>

        <div class="leaderboard-table">
          <table>
            <thead>
              <tr>
                <th>Rank</th>
                <th>Name</th>
                <th>Amount Raised</th>
                <th>Referral Code</th>
              </tr>
            </thead>
            <tbody id="leaderboardBody">
              <tr>
                <td colspan="4" class="loading">
                  <div class="spinner"></div>
                  <p>Loading leaderboard...</p>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/firebase/9.22.0/firebase-app-compat.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/firebase/9.22.0/firebase-auth-compat.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/firebase/9.22.0/firebase-firestore-compat.min.js"></script>

    <script src="scripts.js"></script>
  </body>
</html>
